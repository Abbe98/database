# See http://trac.bigdata.com/ticket/1007
#
# The query executes against the named graph g1 and extracts a binding for
# ?literal of "g2".  The ?literal is then combined into a ?graph variable
# that should bind to the named graph g2. The solution should be the sole
# triple in the named graph g2.

PREFIX : <http://www.interition.net/ref/>

SELECT ?s ?p ?o ?literal WHERE {

  GRAPH <http://www.interition.net/g1> { 

    <http://www.interition.net/s1> :aProperty ?literal .

    BIND ( URI(CONCAT("http://www.interition.net/graphs/", ?literal )) AS ?graph) .

  }

  GRAPH ?graph { ?s ?p ?o . }

}
